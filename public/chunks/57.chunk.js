webpackJsonp([57],{285:function(t,e,s){var r=s(1)(s(286),s(287),!1,null,null,null);t.exports=r.exports},286:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(6),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t};e.default={name:"sidebar",methods:a({},Object(r.mapActions)(["logout"])),computed:a({},Object(r.mapGetters)(["isLogged"]))}},287:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-right-blk show-at-desktop"},[s("div",{staticClass:"right-nav-blk yellow"},[s("ul",{staticClass:"right-nav-list"},[s("li",{staticClass:"item "},[s("router-link",{staticClass:"link",attrs:{to:"/service",title:"服务条款"}},[s("img",{staticClass:"thumb lazyloaded",attrs:{src:"/images/svg/member-01.svg",alt:"服务条款"}}),t._v(" "),s("strong",{staticClass:"title"},[t._v("服务条款")])])],1),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t.isLogged?s("li",{staticClass:"item"},[s("router-link",{staticClass:"link",attrs:{to:"/me/create",title:"article"}},[s("img",{staticClass:"thumb lazyloaded",attrs:{src:"/images/svg/Fun-02.svg",alt:"登入"}}),t._v(" "),s("strong",{staticClass:"title"},[t._v("创建文章")])])],1):t._e(),t._v(" "),t.isLogged?s("li",{staticClass:"item act"},[s("a",{staticClass:"link",attrs:{href:"javascript:void(0);",title:"登出"},on:{click:t.logout}},[s("img",{staticClass:"thumb lazyloaded",attrs:{src:"/images/svg/member-08.svg",alt:"登入"}}),t._v(" "),s("strong",{staticClass:"title"},[t._v("登出")])])]):t._e(),t._v(" "),t.isLogged?t._e():s("li",{staticClass:"item act"},[s("router-link",{staticClass:"link",attrs:{title:"登入",to:"/login"}},[s("img",{staticClass:"thumb lazyloaded",attrs:{src:"/images/svg/member-08.svg",alt:"登入"}}),t._v(" "),s("strong",{staticClass:"title"},[t._v("登入")])])],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"item "},[e("a",{staticClass:"link",attrs:{href:"/zh-cn/member/collection",title:"我的收藏"}},[e("img",{staticClass:"thumb lazyloaded",attrs:{src:"/images/svg/member-02.svg",alt:"我的收藏"}}),this._v(" "),e("strong",{staticClass:"title"},[this._v("我的收藏")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"item "},[e("a",{staticClass:"link",attrs:{href:"/zh-cn/member/forgot",title:"忘记密码"}},[e("img",{staticClass:"thumb lazyloaded",attrs:{src:"/images/svg/member-05.svg",alt:"忘记密码"}}),this._v(" "),e("strong",{staticClass:"title"},[this._v("忘记密码")])])])}]}},393:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(6),a=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var s=[],r=!0,a=!1,i=void 0;try{for(var l,o=t[Symbol.iterator]();!(r=(l=o.next()).done)&&(s.push(l.value),!e||s.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{!r&&o.return&&o.return()}finally{if(a)throw i}}return s}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,s,r){return s&&t(e.prototype,s),r&&t(e,r),e}}();var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.querySelector("#canvas"),this.ctx=this.canvas.getContext("2d"),this.strArray=[]}return i(t,[{key:"getColors",value:function(){var t=[Math.floor(255*Math.random()),Math.floor(255*Math.random()),Math.floor(255*Math.random()),Math.random().toFixed(1)];return[t[0],t[1],t[2],t[3]]}},{key:"getText",value:function(){for(var t=[],e=65;e<91;e++)t.push(String.fromCharCode(e));for(var s=97;s<123;s++)t.push(String.fromCharCode(s));for(var r=0;r<=9;r++)t.push(r);var a=t.length;return t[Math.floor(Math.random()*a)]}},{key:"graphicVerification",value:function(){var t=this.canvas.width,e=this.canvas.height,s=this.getColors(),r=a(s,4),i=r[0],l=r[1],o=r[2],n=r[3];this.ctx.clearRect(0,0,t,e),this.ctx.fillStyle="rgba("+i+","+l+","+o+","+n+")",this.ctx.fillRect(0,0,t,e);for(var c=0;c<=50;c++){var h=[Math.floor(255*Math.random()),Math.floor(255*Math.random()),Math.floor(255*Math.random())],u=h[0],m=h[1],g=h[2];this.ctx.beginPath(),this.ctx.arc(Math.floor(Math.random()*t),Math.floor(Math.random()*e),2,0,2*Math.PI),this.ctx.fillStyle="rgb("+u+","+m+","+g+")",this.ctx.closePath(),this.ctx.fill(),this.ctx.closePath()}this.ctx.font="40px Georgia",this.ctx.fillStyle="rgb("+this.getColors()[0]+","+this.getColors()[1]+","+this.getColors()[2]+")",this.strArray[0]=this.getText(),this.ctx.fillText(this.strArray[0],10,35),this.ctx.fillStyle="rgb("+this.getColors()[0]+","+this.getColors()[1]+","+this.getColors()[2]+")",this.strArray[1]=this.getText(),this.ctx.fillText(this.strArray[1],65,35),this.ctx.fillStyle="rgb("+this.getColors()[0]+","+this.getColors()[1]+","+this.getColors()[2]+")",this.strArray[2]=this.getText(),this.ctx.fillText(this.strArray[2],120,35),this.ctx.fillStyle="rgb("+this.getColors()[0]+","+this.getColors()[1]+","+this.getColors()[2]+")",this.strArray[3]=this.getText(),this.ctx.fillText(this.strArray[3],170,35)}}]),t}(),o=s(285),n=s.n(o),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t};e.default={components:{sidebar:n.a},data:function(){return{labelPosition:"top",ruleForm:{iphone:"",password:"",captcha:null,cap:""},rules:{iphone:[{required:!0,message:"请输入正确的手机号",trigger:"blur,change"},{min:11,max:12,message:"长度在 11 到 12个字符的手机号",trigger:"blur,change"}],password:[{required:!0,message:"密码不能为空",trigger:"blur,change"},{min:6,max:16,message:"长度在 6 到  16个字符",trigger:"blur,change"}],cap:[{required:!0,message:"验证码不能为空",trigger:"blur,change"},{min:4,max:4,message:"长度在4个字符之间",trigger:"blur,change"}]}}},beforeRouteEnter:function(t,e,s){localStorage.getItem("USER_TOKEN")?s("/me"):s()},mounted:function(){this.captcha=new l,this.captcha.graphicVerification()},methods:c({},Object(r.mapActions)(["attempLogin"]),{updateCaptcha:function(){this.captcha.graphicVerification()},weixinMessage:function(){this.$notify({title:"错误",message:"由于微信登入需要营业执照申请接口,所以这块暂时没做!!!",type:"error",offset:250,duration:2e3})},submitForm:function(t){var e=this,s=this.ruleForm,r=s.iphone,a=s.password,i=s.cap,l=this.captcha.strArray.join("").toLowerCase();this.$refs[t].validate(function(t){if(!t||i.toLowerCase()!==l)return e.$confirm("验证码或帐号输入有误","错误提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.captcha.graphicVerification()}),!1;e.attempLogin({iphone:r,password:a})})}})}},394:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-content-wrapper member-wrapper"},[s("div",{staticClass:"member-left-blk"},[t._m(0),t._v(" "),s("div",{staticClass:"member-login-panel"},[s("div",{staticClass:"divide-blk"},[s("h3",{staticClass:"title icon-fb-circle"},[t._v("使用 微信帐号登入")]),t._v(" "),s("a",{staticClass:"btn-fb-login",attrs:{href:"javascript:void(0);"},on:{click:t.weixinMessage}},[t._v("使用微信登入")]),t._v(" "),s("p",{staticClass:"fb-desc"},[t._v("使用微信登入不用另外注册帐号!!!!")])]),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"divide-blk last"},[s("h3",{staticClass:"title icon-avatar-circle"},[t._v("使用本站会员帐号登入")]),t._v(" "),s("el-form",{ref:"ruleForm",staticClass:"signin ",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px","label-position":t.labelPosition},nativeOn:{submit:function(e){e.preventDefault(),t.submitForm("ruleForm")}}},[s("el-form-item",{attrs:{prop:"iphone",label:"帐号:"}},[s("el-input",{attrs:{type:"text",placeholder:"使用手机号码作为登入帐号"},model:{value:t.ruleForm.iphone,callback:function(e){t.$set(t.ruleForm,"iphone",e)},expression:"ruleForm.iphone"}})],1),t._v(" "),s("el-form-item",{attrs:{prop:"password",label:"密码:"}},[s("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:t.ruleForm.password,callback:function(e){t.$set(t.ruleForm,"password",e)},expression:"ruleForm.password"}})],1),t._v(" "),s("el-form-item",{attrs:{prop:"cap",label:"验证码"}},[s("div",{attrs:{id:"captcha"}},[s("canvas",{attrs:{id:"canvas",width:"200",height:"50"},on:{click:t.updateCaptcha}})]),t._v(" "),s("el-input",{attrs:{type:"text"},model:{value:t.ruleForm.cap,callback:function(e){t.$set(t.ruleForm,"cap",e)},expression:"ruleForm.cap"}})],1),t._v(" "),s("el-form-item",[s("el-button",{staticClass:"btn-form-submit",attrs:{"native-type":"submit"}},[t._v("登入")])],1),t._v(" "),s("el-form-item",[s("router-link",{staticClass:"btn-apply",attrs:{to:"/forpassword"}},[t._v("忘记密码")]),t._v(" "),s("router-link",{staticClass:"btn-apply",attrs:{to:"/signup"}},[t._v("注册账户")])],1)],1)],1)])]),t._v(" "),s("sidebar")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"member-slogan-blk"},[e("h2",{staticClass:"title"},[this._v("中原一游未尽")]),this._v(" "),e("p",{staticClass:"desc"},[this._v("收藏中原，从登入开始")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"or-blk"},[e("em",{staticClass:"or"},[this._v("或")])])}]}},791:function(t,e,s){var r=s(1)(s(393),s(394),!1,null,null,null);t.exports=r.exports}});