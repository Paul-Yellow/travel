webpackJsonp([71],{734:function(e,t,r){var s=r(735);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);r(9)("463cea1b",s,!0,{})},735:function(e,t,r){(e.exports=r(5)(!1)).push([e.i,".ul-list[data-v-31200356]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-moz-flex-direction:row;-moz-flex-wrap:wrap;-moz-justify-content:flex-start;-webkit-flex-wrap:wrap;-webkit-justify-content:flex-start}.ul-list>li[data-v-31200356]{padding:.6rem}.tags-module[data-v-31200356]{display:block}.tags[data-v-31200356]{margin:5px}",""])},736:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"usercreate",data:function(){return{permissionsData:[],ruleForm:{name:"",slug:"",desc:"",level:"",permissions:[]},rules:{name:[{required:!0,message:"请输入角色名称",trigger:"blur"}],slug:[{required:!0,message:"请输入角色",trigger:"blur"}],desc:[{required:!0,message:"请输入说明信息",trigger:"blur"}],level:[{validator:function(e,t,r){if(!t)return r(new Error("等级不能为空"));setTimeout(function(){Number.isInteger(t)?t<0||t>=5?r(new Error("数值必须大于0并且小于5")):r():r(new Error("请输入数字值"))},1e3)},trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this,r=this.ruleForm;this.$refs[e].validate(function(e){e&&t.$http.post("/admin/role",r).then(function(e){if(200===e.status&&200===e.data.responData.status)return t.$message({type:"success",message:e.data.responData.messages}),t.$router.go(-1)})})},fetchData:function(){var e=this;this.$http.get("/admin/role/create").then(function(t){var r=t.data;r.permissions.length>0?e.permissionsData=r.permissions:e.$message({type:"error",message:"空的数据"})})}},created:function(){this.fetchData()}}},737:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card"},[r("el-form",{ref:"ruleForm",staticClass:"signup",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{prop:"name",label:"角色名:"}},[r("el-input",{attrs:{type:"text",placeholder:"角色名"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"slug",label:"角色:"}},[r("el-input",{attrs:{type:"text",placeholder:"角色"},model:{value:e.ruleForm.slug,callback:function(t){e.$set(e.ruleForm,"slug",t)},expression:"ruleForm.slug"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"desc",label:"描述:"}},[r("el-input",{attrs:{type:"text",placeholder:"描述"},model:{value:e.ruleForm.desc,callback:function(t){e.$set(e.ruleForm,"desc",t)},expression:"ruleForm.desc"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"level",label:"等级:"}},[r("el-input",{attrs:{type:"text",placeholder:"等级"},model:{value:e.ruleForm.level,callback:function(t){e.$set(e.ruleForm,"level",e._n(t))},expression:"ruleForm.level"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"角色权限",prop:"permissions"}},[r("p",[e._v("为用户添加额外的权限;")]),e._v(" "),r("el-checkbox-group",{staticStyle:{border:"1px solid #eee","border-radius":"4px",padding:".8rem"},model:{value:e.ruleForm.permissions,callback:function(t){e.$set(e.ruleForm,"permissions",t)},expression:"ruleForm.permissions"}},[r("ul",{staticClass:"ul-list"},e._l(e.permissionsData,function(t,s){return r("li",{key:s},[r("el-checkbox",{attrs:{label:t.id,name:"permissions"}},[e._v(e._s(t.name+"("+t.slug+")"))])],1)}))])],1),e._v(" "),r("el-form-item",[r("el-button",{staticClass:"btn-form-submit",on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("创建")])],1)],1)],1)},staticRenderFns:[]}},864:function(e,t,r){var s=r(1)(r(736),r(737),!1,function(e){r(734)},"data-v-31200356",null);e.exports=s.exports}});