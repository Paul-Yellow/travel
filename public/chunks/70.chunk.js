webpackJsonp([70],{738:function(e,r,t){var s=t(739);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);t(9)("4f8c80bc",s,!0,{})},739:function(e,r,t){(e.exports=t(5)(!1)).push([e.i,".ul-list[data-v-06f61648]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-moz-flex-direction:row;-moz-flex-wrap:wrap;-moz-justify-content:flex-start;-webkit-flex-wrap:wrap;-webkit-justify-content:flex-start}.ul-list>li[data-v-06f61648]{padding:.6rem}.tags-module[data-v-06f61648]{display:block}.tags[data-v-06f61648]{margin:5px}",""])},740:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={name:"usercreate",data:function(){return{permissionsData:[],ruleForm:{name:"",slug:"",desc:"",level:"",permissions:[]},rules:{name:[{required:!0,message:"请输入角色名称",trigger:"blur"}],slug:[{required:!0,message:"请输入角色",trigger:"blur"}],desc:[{required:!0,message:"请输入说明信息",trigger:"blur"}],level:[{validator:function(e,r,t){if(!r)return t(new Error("等级不能为空"));setTimeout(function(){Number.isInteger(r)?r<0||r>=5?t(new Error("数值必须大于0并且小于5")):t():t(new Error("请输入数字值"))},1e3)},trigger:"blur"}]}}},methods:{submitForm:function(e){var r=this,t=this.ruleForm;this.$refs[e].validate(function(e){e&&r.$http.put("/admin/role/"+r.$route.params.id,t).then(function(e){if(200===e.status&&200===e.data.responData.status)return r.$message({type:"success",message:e.data.responData.messages}),r.$router.go(-1)})})},fetchData:function(e){var r=this;this.$http.get("/admin/role/"+e+"/edit").then(function(e){var t=e.data;t.permissions.length>0&&t.responData.role?(r.permissionsData=t.permissions,r.ruleForm.name=t.responData.role.data.name,r.ruleForm.slug=t.responData.role.data.slug,r.ruleForm.level=t.responData.role.data.level,r.ruleForm.desc=t.responData.role.data.description):r.$message({type:"error",message:"空的数据"})})}},created:function(){this.fetchData(this.$route.params.id)}}},741:function(e,r){e.exports={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"card"},[t("el-form",{ref:"ruleForm",staticClass:"signup",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{prop:"name",label:"角色名:"}},[t("el-input",{attrs:{type:"text",placeholder:"角色名"},model:{value:e.ruleForm.name,callback:function(r){e.$set(e.ruleForm,"name",r)},expression:"ruleForm.name"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"slug",label:"角色:"}},[t("el-input",{attrs:{type:"text",placeholder:"角色"},model:{value:e.ruleForm.slug,callback:function(r){e.$set(e.ruleForm,"slug",r)},expression:"ruleForm.slug"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"desc",label:"描述:"}},[t("el-input",{attrs:{type:"text",placeholder:"描述"},model:{value:e.ruleForm.desc,callback:function(r){e.$set(e.ruleForm,"desc",r)},expression:"ruleForm.desc"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"level",label:"等级:"}},[t("el-input",{attrs:{type:"text",placeholder:"等级"},model:{value:e.ruleForm.level,callback:function(r){e.$set(e.ruleForm,"level",e._n(r))},expression:"ruleForm.level"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"角色权限",prop:"permissions"}},[t("p",[e._v("为用户添加额外的权限;")]),e._v(" "),t("el-checkbox-group",{staticStyle:{border:"1px solid #eee","border-radius":"4px",padding:".8rem"},model:{value:e.ruleForm.permissions,callback:function(r){e.$set(e.ruleForm,"permissions",r)},expression:"ruleForm.permissions"}},[t("ul",{staticClass:"ul-list"},e._l(e.permissionsData,function(r,s){return t("li",{key:s},[t("el-checkbox",{attrs:{label:r.id,name:"permissions"}},[e._v(e._s(r.name+"("+r.slug+")"))])],1)}))])],1),e._v(" "),t("el-form-item",[t("el-button",{staticClass:"btn-form-submit",on:{click:function(r){e.submitForm("ruleForm")}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]}},865:function(e,r,t){var s=t(1)(t(740),t(741),!1,function(e){t(738)},"data-v-06f61648",null);e.exports=s.exports}});