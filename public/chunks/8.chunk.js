webpackJsonp([8],{532:function(t,a,e){var n=e(533);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e(9)("cc63bbf4",n,!0,{})},533:function(t,a,e){(t.exports=e(5)(!1)).push([t.i,'h6[data-v-c5633b8c]{color:#999}.readable[data-v-c5633b8c]{border-bottom:1px solid #f8f8f8}.read[data-v-c5633b8c]{color:#888}.text[data-v-c5633b8c]{font-size:14px}.item[data-v-c5633b8c]{padding:18px 0}.clearfix[data-v-c5633b8c]:after,.clearfix[data-v-c5633b8c]:before{display:table;content:""}.clearfix[data-v-c5633b8c]:after{clear:both}ul.notification-list[data-v-c5633b8c]{font-size:.8rem;line-height:30px}ul.notification-list li[data-v-c5633b8c]{list-style:none}ul.notification-list li .content a[data-v-c5633b8c]{color:#666;font-size:.9rem;font-weight:500}ul.notification-list li[data-v-c5633b8c]:last-child{margin-bottom:0!important}',""])},534:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e(6),i=e(535),o=e.n(i),s=e(538),c=e.n(s),r=e(541),l=e.n(r),d=e(544),f=e.n(d),u=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t};a.default={components:{UserFollow:c.a,"like-talent":o.a,"favorite-talent":f.a,"talent-comment":l.a,"like-offers":o.a,"favorite-offers":f.a,"offers-comment":l.a,"like-post":o.a,"favorite-post":f.a,"user-comment":l.a,"like-active-event":o.a,"favorite-active-event":f.a,"active-event-comment":l.a},data:function(){return{notifications:[],isLoading:!1}},computed:u({},Object(n.mapGetters)(["currentUser"])),created:function(){this.loadNotifications()},methods:u({},Object(n.mapActions)(["redOneNot","redAllNot"]),{markOneRead:function(t,a){var e=this;null==t.read_at&&this.$http.post("/admin/me/notifications/read/"+t.id).then(function(){e.notifications[a].read_at=new Date,e.redOneNot()})},markAllRead:function(){var t=this;this.currentUser.unread_count&&this.$http.post("/admin/me/notifications/read").then(function(){t.redAllNot(),t.loadNotifications()})},loadNotifications:function(){var t=this;this.isLoading=!0,this.$http.get("/admin/me/notifications").then(function(a){console.log(a.data),t.notifications=a.data.data,t.isLoading=!1})}})}},535:function(t,a,e){var n=e(1)(e(536),e(537),!1,null,null,null);t.exports=n.exports},536:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={props:{notification:{type:Object,default:null}}}},537:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-row",[e("el-col",{attrs:{span:24}},[e("span",[e("img",{staticClass:"rounded-circle mr-2",attrs:{width:"30",src:t.notification.data.user.avatar}}),t._v("\n      "+t._s(t.notification.data.user.name)+"\n    ")]),t._v(" "),e("span",{staticClass:"mx-2"},[t._v("点赞了你的文章 《"+t._s(t.notification.data.post.title||t.notification.data.post.name)+"》")]),t._v(" "),e("div",{staticClass:"date"},[t._v(t._s(t.notification.created_at))])])],1)},staticRenderFns:[]}},538:function(t,a,e){var n=e(1)(e(539),e(540),!1,null,null,null);t.exports=n.exports},539:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={props:{notification:{type:Object,default:null}}}},540:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-row",[e("el-col",{attrs:{span:24}},[e("span",[e("img",{staticClass:"rounded-circle mr-2",attrs:{width:"30",src:t.notification.data.avatar}}),t._v("\n      "+t._s(t.notification.data.name)+"\n    ")]),t._v(" "),e("span",{staticClass:"mx-2"},[t._v("关注了你")]),t._v(" "),e("div",{staticClass:"date"},[t._v(t._s(t.notification.created_at))])])],1)},staticRenderFns:[]}},541:function(t,a,e){var n=e(1)(e(542),e(543),!1,null,null,null);t.exports=n.exports},542:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={props:{notification:{type:Object,default:null}}}},543:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-row",[e("el-col",{attrs:{span:24}},[e("span",[e("img",{staticClass:"rounded-circle mr-2",attrs:{width:"30",src:t.notification.data.user.avatar}}),t._v("\n      "+t._s(t.notification.data.user.name)+"\n    ")]),t._v(" "),e("span",{staticClass:"mx-2"},[t._v("评论了你的文章 《"+t._s(t.notification.data.post.title||t.notification.data.post.name)+"》")]),t._v(" "),e("div",{staticClass:"date"},[t._v(t._s(t.notification.created_at))])])],1)},staticRenderFns:[]}},544:function(t,a,e){var n=e(1)(e(545),e(546),!1,null,null,null);t.exports=n.exports},545:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={props:{notification:{type:Object,default:null}}}},546:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-row",[e("el-col",{attrs:{span:24}},[e("span",[e("img",{staticClass:"rounded-circle mr-2",attrs:{width:"30",src:t.notification.data.user.avatar}}),t._v("\n      "+t._s(t.notification.data.user.name)+"\n    ")]),t._v(" "),e("span",{staticClass:"mx-2"},[t._v("收藏了你的文章《"+t._s(t.notification.data.post.title||t.notification.data.post.name)+"》")]),t._v(" "),e("div",{staticClass:"date"},[t._v(t._s(t.notification.created_at))])])],1)},staticRenderFns:[]}},547:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-row",{attrs:{type:"flex"}},[e("el-col",{staticStyle:{margin:".625rem"},attrs:{span:24}},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"line-height":"36px"}},[t._v("通知消息")]),t._v(" "),e("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:t.markAllRead}},[t._v("全部标记为已读")])],1),t._v(" "),t.isLoading?t._e():e("ul",{staticClass:"notification-list"},[t.notifications.length>0?t._l(t.notifications,function(a,n){return e("li",{key:n,staticClass:"text item",class:{read:a.read_at},on:{click:function(e){t.markOneRead(a,n)}}},[e("keep-alive",[e(a.type.split("_").join("-"),{tag:"component",attrs:{notification:a}})],1)],1)}):e("h6",{staticClass:"text-center"},[t._v("无新的通知")])],2)])],1)],1)},staticRenderFns:[]}},842:function(t,a,e){var n=e(1)(e(534),e(547),!1,function(t){e(532)},"data-v-c5633b8c",null);t.exports=n.exports}});